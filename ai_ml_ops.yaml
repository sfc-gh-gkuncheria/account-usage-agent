name: AU_AI_ML_OPS
tables:
  - name: CORTEX_ANALYST_USAGE_HISTORY
    description: The CORTEX_ANALYST_USAGE_HISTORY view can be used to query the usage history of Cortex Analyst. The information in the view includes the number of credits consumed each time Cortex Analyst is called, aggregated in one-hour increments.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_ANALYST_USAGE_HISTORY
    dimensions:
      - name: USERNAME
        synonyms:
          - USER_NAME
          - USER
          - Analyst User
          - App User
        description: The username of the user who sent the Cortex Analyst message request. The username is included with the session.
        expr: USERNAME
        data_type: VARCHAR(16777216)
        sample_values:
          - AAABBBAAA
          - BSMITH
          - BFRANKENSTEIN
          - JSCHMO
          - GWASHINGTON
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
        description: End of the specified time range in which the Cortex Analyst message response was sent.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 07:00:00.000000+00:00'
          - '2024-10-10 06:00:00.000000+00:00'
          - '2024-11-13 08:00:00.000000+00:00'
          - '2024-09-07 19:00:00.000000+00:00'
          - '2024-09-07 14:00:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
        description: Start of the specified time range in which the Cortex Analyst message request was made.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: CREDITS
        synonyms:
          - Credits Used
          - Analyst Credits
          - Cortex Credits
        description: Number of credits consumed by Cortex Analyst during the time period.
        expr: CREDITS
        data_type: NUMBER
        sample_values:
          - 0.123456789
          - 0.987654321
          - 0.555555555
          - 0.111111111
          - 0.777777777
      - name: REQUEST_COUNT
        synonyms:
          - Requests
          - Request Count
          - Messages
        description: Number of Cortex Analyst requests made during the time period.
        expr: REQUEST_COUNT
        data_type: NUMBER
        sample_values:
          - '15'
          - '30'
          - '8'
          - '50'
          - '22'
    primary_key:
      columns:
        - START_TIME
        - USERNAME
  - name: CORTEX_DOCUMENT_PROCESSING_USAGE_HISTORY
    description: This Account Usage view displays the usage history for Cortex Document Processing functions, showing credits and processing metrics.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_DOCUMENT_PROCESSING_USAGE_HISTORY
    dimensions:
      - name: FUNCTION_NAME
        synonyms:
          - Function
          - Cortex Function
          - Document Function
        description: Name of the Cortex Document Processing function used.
        expr: FUNCTION_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - PARSE_DOCUMENT
          - EXTRACT_TEXT
          - CLASSIFY_DOCUMENT
          - EXTRACT_ENTITIES
          - SUMMARIZE_DOCUMENT
      - name: MODEL_NAME
        synonyms:
          - Model
          - AI Model
          - Document Model
        description: Name of the model used for document processing.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - DOCUMENT_PARSER_V1
          - TEXT_EXTRACTOR_V2
          - CLASSIFIER_V1
          - ENTITY_EXTRACTOR_V1
          - SUMMARIZER_V2
      - name: OPERATION_NAME
        synonyms:
          - Operation
          - Processing Operation
        description: Name of the document processing operation performed.
        expr: OPERATION_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - PARSE_PDF
          - EXTRACT_TEXT_OCR
          - CLASSIFY_CONTENT
          - EXTRACT_NAMED_ENTITIES
          - GENERATE_SUMMARY
      - name: QUERY_ID
        synonyms:
          - QID
          - Query Identifier
        description: Unique identifier for the query that used the document processing function.
        expr: QUERY_ID
        data_type: VARCHAR
        sample_values:
          - 01b85651-0a0e-11f0-0000-43297fed023e
          - 01b856d1-0a0e-11f0-0000-43297fee37d2
          - 01b9d914-080e-ac42-0000-43298453ac0e
          - 01b9d94e-080e-b3d6-0000-43298454529e
          - 01b9d925-080e-b3d6-0000-43298453f9a6
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
        description: End time of the document processing operation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:24:15.392000+00:00'
          - '2024-10-10 05:54:30.670000+00:00'
          - '2024-11-13 07:42:25.887000+00:00'
          - '2024-09-07 18:05:20.642000+00:00'
          - '2024-09-07 13:34:18.314000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
        description: Start time of the document processing operation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:24:10.392000+00:00'
          - '2024-10-10 05:54:26.670000+00:00'
          - '2024-11-13 07:42:17.887000+00:00'
          - '2024-09-07 18:05:16.642000+00:00'
          - '2024-09-07 13:34:14.314000+00:00'
    facts:
      - name: CREDITS_USED
        synonyms:
          - Credits
          - Credits Used
          - Processing Credits
        description: Number of credits consumed by the document processing function.
        expr: CREDITS_USED
        data_type: NUMBER
        sample_values:
          - 0.123456789
          - 0.987654321
          - 0.555555555
          - 0.111111111
          - 0.777777777
      - name: DOCUMENT_COUNT
        synonyms:
          - Documents
          - Document Count
          - Files Processed
        description: Number of documents processed.
        expr: DOCUMENT_COUNT
        data_type: NUMBER
        sample_values:
          - '1'
          - '3'
          - '1'
          - '5'
          - '2'
      - name: FEATURE_COUNT
        synonyms:
          - Features
          - Feature Count
          - Processing Features
        description: Number of features or elements processed in the document.
        expr: FEATURE_COUNT
        data_type: NUMBER
        sample_values:
          - '50'
          - '120'
          - '30'
          - '250'
          - '80'
      - name: PAGE_COUNT
        synonyms:
          - Pages
          - Page Count
          - Document Pages
        description: Number of pages processed in the document.
        expr: PAGE_COUNT
        data_type: NUMBER
        sample_values:
          - '5'
          - '12'
          - '3'
          - '25'
          - '8'
    primary_key:
      columns:
        - QUERY_ID
  - name: CORTEX_FINE_TUNING_USAGE_HISTORY
    description: This Account Usage view displays the usage history for Cortex Fine-Tuning operations, showing credits and token usage.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_FINE_TUNING_USAGE_HISTORY
    dimensions:
      - name: MODEL_NAME
        synonyms:
          - Model
          - Fine-Tuned Model
          - AI Model
        description: Name of the model being fine-tuned.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - MISTRAL_7B_FT
          - LLAMA_13B_FT
          - CUSTOM_MODEL_V1
          - SENTIMENT_MODEL_FT
          - CLASSIFICATION_MODEL_FT
      - name: WAREHOUSE_ID
        synonyms:
          - Warehouse ID
        description: Internal identifier for the warehouse used for fine-tuning.
        expr: WAREHOUSE_ID
        data_type: NUMBER
        sample_values:
          - '12345'
          - '98765'
          - '55555'
          - '11111'
          - '77777'
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
        description: End time of the fine-tuning operation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 08:24:15.392000+00:00'
          - '2024-10-10 07:54:30.670000+00:00'
          - '2024-11-13 09:42:25.887000+00:00'
          - '2024-09-07 20:05:20.642000+00:00'
          - '2024-09-07 15:34:18.314000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
        description: Start time of the fine-tuning operation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:24:10.392000+00:00'
          - '2024-10-10 05:54:26.670000+00:00'
          - '2024-11-13 07:42:17.887000+00:00'
          - '2024-09-07 18:05:16.642000+00:00'
          - '2024-09-07 13:34:14.314000+00:00'
    facts:
      - name: TOKEN_CREDITS
        synonyms:
          - Token Credits
          - Fine-Tuning Credits
        description: Number of credits consumed for token processing during fine-tuning.
        expr: TOKEN_CREDITS
        data_type: NUMBER
        sample_values:
          - 10.123456789
          - 25.987654321
          - 5.555555555
          - 50.111111111
          - 15.777777777
      - name: TOKENS
        synonyms:
          - Token Count
          - Tokens Processed
        description: Number of tokens processed during fine-tuning.
        expr: TOKENS
        data_type: NUMBER
        sample_values:
          - '100000'
          - '250000'
          - '50000'
          - '500000'
          - '150000'
    primary_key:
      columns:
        - START_TIME
        - MODEL_NAME
  - name: CORTEX_FUNCTIONS_QUERY_USAGE_HISTORY
    description: This Account Usage view displays the usage history for Cortex Functions used within queries, showing credits and token usage per query.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_FUNCTIONS_QUERY_USAGE_HISTORY
    dimensions:
      - name: FUNCTION_NAME
        synonyms:
          - Function
          - Cortex Function
          - AI Function
        description: Name of the Cortex function used in the query.
        expr: FUNCTION_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - COMPLETE
          - SENTIMENT
          - SUMMARIZE
          - TRANSLATE
          - CLASSIFY_TEXT
      - name: MODEL_NAME
        synonyms:
          - Model
          - AI Model
          - LLM Model
        description: Name of the model used by the Cortex function.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - MISTRAL_7B
          - LLAMA_13B
          - GPT_3_5_TURBO
          - CLAUDE_2
          - MIXTRAL_8X7B
      - name: QUERY_ID
        synonyms:
          - QID
          - Query Identifier
        description: Unique identifier for the query that used the Cortex function.
        expr: QUERY_ID
        data_type: VARCHAR
        sample_values:
          - 01b85651-0a0e-11f0-0000-43297fed023e
          - 01b856d1-0a0e-11f0-0000-43297fee37d2
          - 01b9d914-080e-ac42-0000-43298453ac0e
          - 01b9d94e-080e-b3d6-0000-43298454529e
          - 01b9d925-080e-b3d6-0000-43298453f9a6
      - name: WAREHOUSE_ID
        synonyms:
          - Warehouse ID
        description: Internal identifier for the warehouse that executed the query.
        expr: WAREHOUSE_ID
        data_type: NUMBER
        sample_values:
          - '12345'
          - '98765'
          - '55555'
          - '11111'
          - '77777'
    facts:
      - name: TOKEN_CREDITS
        synonyms:
          - Token Credits
          - Function Credits
        description: Number of credits consumed for token processing by the Cortex function.
        expr: TOKEN_CREDITS
        data_type: NUMBER
        sample_values:
          - 0.123456789
          - 0.987654321
          - 0.555555555
          - 0.111111111
          - 0.777777777
      - name: TOKENS
        synonyms:
          - Token Count
          - Tokens Processed
        description: Number of tokens processed by the Cortex function in the query.
        expr: TOKENS
        data_type: NUMBER
        sample_values:
          - '1000'
          - '2500'
          - '500'
          - '5000'
          - '1500'
    primary_key:
      columns:
        - QUERY_ID
  - name: CORTEX_FUNCTIONS_USAGE_HISTORY
    description: This Account Usage view displays the aggregated usage history for Cortex Functions, showing credits and token usage over time periods.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_FUNCTIONS_USAGE_HISTORY
    dimensions:
      - name: FUNCTION_NAME
        synonyms:
          - Function
          - Cortex Function
          - AI Function
        description: Name of the Cortex function.
        expr: FUNCTION_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - COMPLETE
          - SENTIMENT
          - SUMMARIZE
          - TRANSLATE
          - CLASSIFY_TEXT
      - name: MODEL_NAME
        synonyms:
          - Model
          - AI Model
          - LLM Model
        description: Name of the model used by the Cortex function.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - MISTRAL_7B
          - LLAMA_13B
          - GPT_3_5_TURBO
          - CLAUDE_2
          - MIXTRAL_8X7B
      - name: WAREHOUSE_ID
        synonyms:
          - Warehouse ID
        description: Internal identifier for the warehouse that executed the functions.
        expr: WAREHOUSE_ID
        data_type: NUMBER
        sample_values:
          - '12345'
          - '98765'
          - '55555'
          - '11111'
          - '77777'
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
        description: End of the time period for the usage aggregation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 07:00:00.000000+00:00'
          - '2024-10-10 06:00:00.000000+00:00'
          - '2024-11-13 08:00:00.000000+00:00'
          - '2024-09-07 19:00:00.000000+00:00'
          - '2024-09-07 14:00:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
        description: Start of the time period for the usage aggregation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: TOKEN_CREDITS
        synonyms:
          - Token Credits
          - Function Credits
          - Cortex Credits
        description: Number of credits consumed for token processing by the Cortex function during the time period.
        expr: TOKEN_CREDITS
        data_type: NUMBER
        sample_values:
          - 5.123456789
          - 12.987654321
          - 2.555555555
          - 25.111111111
          - 8.777777777
      - name: TOKENS
        synonyms:
          - Token Count
          - Tokens Processed
        description: Number of tokens processed by the Cortex function during the time period.
        expr: TOKENS
        data_type: NUMBER
        sample_values:
          - '50000'
          - '125000'
          - '25000'
          - '250000'
          - '87500'
    primary_key:
      columns:
        - START_TIME
        - FUNCTION_NAME
        - MODEL_NAME
  - name: CORTEX_SEARCH_DAILY_USAGE_HISTORY
    description: This Account Usage view displays the daily usage history for Cortex Search services, showing credits and token usage.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_SEARCH_DAILY_USAGE_HISTORY
    dimensions:
      - name: CONSUMPTION_TYPE
        synonyms:
          - Consumption Type
          - Usage Type
        description: Type of Cortex Search consumption.
        expr: CONSUMPTION_TYPE
        data_type: VARCHAR(16777216)
        sample_values:
          - INDEXING
          - SEARCH
          - REFRESH
          - OPTIMIZATION
          - MAINTENANCE
      - name: DATABASE_NAME
        synonyms:
          - Database
          - Database Name
        description: Name of the database containing the Cortex Search service.
        expr: DATABASE_NAME
        data_type: VARCHAR
        sample_values:
          - PROD_DB
          - TEST_DB
          - DEV_DB
          - ANALYTICS_DB
          - SEARCH_DB
      - name: MODEL_NAME
        synonyms:
          - Model
          - Search Model
          - Embedding Model
        description: Name of the model used for search operations.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - SNOWFLAKE_ARCTIC_EMBED_M
          - SNOWFLAKE_ARCTIC_EMBED_L
          - E5_BASE_V2
          - MULTILINGUAL_E5_LARGE
          - SENTENCE_TRANSFORMERS
      - name: NAME
        synonyms:
          - Service Name
          - Search Service
          - Name
        description: Name of the Cortex Search service.
        expr: NAME
        data_type: VARCHAR
        sample_values:
          - PRODUCT_SEARCH
          - DOCUMENT_SEARCH
          - KNOWLEDGE_BASE
          - FAQ_SEARCH
          - CONTENT_DISCOVERY
      - name: SCHEMA_NAME
        synonyms:
          - Schema
          - Schema Name
        description: Name of the schema containing the Cortex Search service.
        expr: SCHEMA_NAME
        data_type: VARCHAR
        sample_values:
          - PUBLIC
          - SEARCH
          - VECTORS
          - EMBEDDINGS
          - ML
      - name: SERVICE_ID
        synonyms:
          - Service ID
        description: Internal identifier for the Cortex Search service.
        expr: SERVICE_ID
        data_type: NUMBER
        sample_values:
          - '12345'
          - '98765'
          - '55555'
          - '11111'
          - '77777'
      - name: SERVICE_NAME
        synonyms:
          - Service
          - Search Service
          - Cortex Service
        description: Name of the Cortex Search service.
        expr: SERVICE_NAME
        data_type: VARCHAR
        sample_values:
          - PRODUCT_SEARCH
          - DOCUMENT_SEARCH
          - KNOWLEDGE_BASE
          - FAQ_SEARCH
          - CONTENT_DISCOVERY
    time_dimensions:
      - name: USAGE_DATE
        synonyms:
          - Date
          - Usage Date
        description: Date of the Cortex Search usage.
        expr: USAGE_DATE
        data_type: DATE
        sample_values:
          - '2024-08-31'
          - '2024-10-10'
          - '2024-11-13'
          - '2024-09-07'
          - '2024-09-08'
    facts:
      - name: CREDITS
        synonyms:
          - Credits Used
          - Search Credits
          - Daily Credits
        description: Number of credits consumed by the Cortex Search service during the day.
        expr: CREDITS
        data_type: NUMBER
        sample_values:
          - 2.123456789
          - 5.987654321
          - 1.555555555
          - 10.111111111
          - 3.777777777
      - name: TOKENS
        synonyms:
          - Token Count
          - Tokens Processed
          - Search Tokens
        description: Number of tokens processed by the Cortex Search service during the day.
        expr: TOKENS
        data_type: NUMBER
        sample_values:
          - '20000'
          - '50000'
          - '10000'
          - '100000'
          - '35000'
    primary_key:
      columns:
        - USAGE_DATE
        - SERVICE_NAME
        - CONSUMPTION_TYPE
  - name: CORTEX_SEARCH_SERVING_USAGE_HISTORY
    description: This Account Usage view displays the serving usage history for Cortex Search services, showing credits for search operations.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: CORTEX_SEARCH_SERVING_USAGE_HISTORY
    dimensions:
      - name: DATABASE_NAME
        synonyms:
          - Database
          - Database Name
        description: Name of the database containing the Cortex Search service.
        expr: DATABASE_NAME
        data_type: VARCHAR
        sample_values:
          - PROD_DB
          - TEST_DB
          - DEV_DB
          - ANALYTICS_DB
          - SEARCH_DB
      - name: SCHEMA_NAME
        synonyms:
          - Schema
          - Schema Name
        description: Name of the schema containing the Cortex Search service.
        expr: SCHEMA_NAME
        data_type: VARCHAR
        sample_values:
          - PUBLIC
          - SEARCH
          - VECTORS
          - EMBEDDINGS
          - ML
      - name: SERVICE_ID
        synonyms:
          - Service ID
        description: Internal identifier for the Cortex Search service.
        expr: SERVICE_ID
        data_type: NUMBER
        sample_values:
          - '12345'
          - '98765'
          - '55555'
          - '11111'
          - '77777'
      - name: SERVICE_NAME
        synonyms:
          - Service
          - Search Service
          - Cortex Service
        description: Name of the Cortex Search service.
        expr: SERVICE_NAME
        data_type: VARCHAR
        sample_values:
          - PRODUCT_SEARCH
          - DOCUMENT_SEARCH
          - KNOWLEDGE_BASE
          - FAQ_SEARCH
          - CONTENT_DISCOVERY
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
        description: End of the time period for the serving usage.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 07:00:00.000000+00:00'
          - '2024-10-10 06:00:00.000000+00:00'
          - '2024-11-13 08:00:00.000000+00:00'
          - '2024-09-07 19:00:00.000000+00:00'
          - '2024-09-07 14:00:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
        description: Start of the time period for the serving usage.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: CREDITS
        synonyms:
          - Credits Used
          - Serving Credits
          - Search Credits
        description: Number of credits consumed by search serving operations during the time period.
        expr: CREDITS
        data_type: NUMBER
        sample_values:
          - 0.512345678
          - 1.298765432
          - 0.277777777
          - 2.511111111
          - 0.833333333
    primary_key:
      columns:
        - START_TIME
        - SERVICE_NAME
  - name: DATA_QUALITY_MONITORING_USAGE_HISTORY
    description: This Account Usage view displays the usage history for Data Quality Monitoring features, showing credits for data quality checks and monitoring.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: DATA_QUALITY_MONITORING_USAGE_HISTORY
    dimensions:
      - name: DATABASE_NAME
        synonyms:
          - Database
          - Database Name
        description: Name of the database where data quality monitoring was performed.
        expr: DATABASE_NAME
        data_type: VARCHAR
        sample_values:
          - PROD_DB
          - TEST_DB
          - DEV_DB
          - ANALYTICS_DB
          - QUALITY_DB
      - name: METRIC_NAME
        synonyms:
          - Metric
          - Quality Metric
          - Data Metric
        description: Name of the data quality metric being monitored.
        expr: METRIC_NAME
        data_type: VARCHAR
        sample_values:
          - NULL_COUNT
          - DUPLICATE_COUNT
          - FRESHNESS_CHECK
          - SCHEMA_VALIDATION
          - RANGE_CHECK
      - name: MONITOR_NAME
        synonyms:
          - Monitor
          - Monitor Name
          - Quality Monitor
        description: Name of the data quality monitor.
        expr: MONITOR_NAME
        data_type: VARCHAR
        sample_values:
          - CUSTOMER_QUALITY_MONITOR
          - ORDER_FRESHNESS_MONITOR
          - PRODUCT_VALIDATION_MONITOR
          - SALES_COMPLETENESS_MONITOR
          - INVENTORY_ACCURACY_MONITOR
      - name: SCHEMA_NAME
        synonyms:
          - Schema
          - Schema Name
        description: Name of the schema where data quality monitoring was performed.
        expr: SCHEMA_NAME
        data_type: VARCHAR
        sample_values:
          - PUBLIC
          - QUALITY
          - MONITORING
          - DATA_CHECKS
          - VALIDATION
      - name: TABLE_NAME
        synonyms:
          - Table
          - Table Name
          - Monitored Table
        description: Name of the table being monitored for data quality.
        expr: TABLE_NAME
        data_type: VARCHAR
        sample_values:
          - CUSTOMERS
          - ORDERS
          - PRODUCTS
          - SALES
          - INVENTORY
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
          - Monitor End
        description: End time of the data quality monitoring operation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:05:00.000000+00:00'
          - '2024-10-10 05:05:00.000000+00:00'
          - '2024-11-13 07:05:00.000000+00:00'
          - '2024-09-07 18:05:00.000000+00:00'
          - '2024-09-07 13:05:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
          - Monitor Start
        description: Start time of the data quality monitoring operation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: CREDITS_USED
        synonyms:
          - Credits Used
          - Monitoring Credits
          - Quality Credits
        description: Number of credits consumed by data quality monitoring operations.
        expr: CREDITS_USED
        data_type: NUMBER
        sample_values:
          - 0.123456789
          - 0.987654321
          - 0.555555555
          - 0.111111111
          - 0.777777777
    primary_key:
      columns:
        - START_TIME
        - MONITOR_NAME
  - name: DOCUMENT_AI_USAGE_HISTORY
    description: This Account Usage view displays the usage history for Document AI services, showing credits for document processing and analysis.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: DOCUMENT_AI_USAGE_HISTORY
    dimensions:
      - name: FUNCTION_NAME
        synonyms:
          - Function
          - Document AI Function
          - AI Function
        description: Name of the Document AI function used.
        expr: FUNCTION_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - PARSE_DOCUMENT
          - EXTRACT_TEXT
          - CLASSIFY_DOCUMENT
          - EXTRACT_ENTITIES
          - ANALYZE_LAYOUT
      - name: MODEL_NAME
        synonyms:
          - Model
          - Document Model
          - AI Model
        description: Name of the model used for document processing.
        expr: MODEL_NAME
        data_type: VARCHAR(16777216)
        sample_values:
          - DOCUMENT_PARSER_V2
          - TEXT_EXTRACTOR_V3
          - LAYOUT_ANALYZER_V1
          - ENTITY_EXTRACTOR_V2
          - CLASSIFIER_V3
      - name: OPERATION_TYPE
        synonyms:
          - Operation
          - Processing Type
          - Document Operation
        description: Type of document processing operation performed.
        expr: OPERATION_TYPE
        data_type: VARCHAR(16777216)
        sample_values:
          - TEXT_EXTRACTION
          - LAYOUT_ANALYSIS
          - CLASSIFICATION
          - ENTITY_EXTRACTION
          - STRUCTURE_PARSING
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
          - Processing End
        description: End time of the Document AI operation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:10:00.000000+00:00'
          - '2024-10-10 05:15:00.000000+00:00'
          - '2024-11-13 07:08:00.000000+00:00'
          - '2024-09-07 18:20:00.000000+00:00'
          - '2024-09-07 13:12:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
          - Processing Start
        description: Start time of the Document AI operation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: CREDITS_USED
        synonyms:
          - Credits Used
          - Document AI Credits
          - Processing Credits
        description: Number of credits consumed by Document AI operations.
        expr: CREDITS_USED
        data_type: NUMBER
        sample_values:
          - 0.523456789
          - 1.487654321
          - 0.255555555
          - 2.811111111
          - 0.933333333
      - name: DOCUMENT_COUNT
        synonyms:
          - Documents
          - Document Count
          - Files Processed
        description: Number of documents processed by Document AI.
        expr: DOCUMENT_COUNT
        data_type: NUMBER
        sample_values:
          - '5'
          - '12'
          - '3'
          - '25'
          - '8'
      - name: PAGE_COUNT
        synonyms:
          - Pages
          - Page Count
          - Document Pages
        description: Total number of pages processed across all documents.
        expr: PAGE_COUNT
        data_type: NUMBER
        sample_values:
          - '25'
          - '60'
          - '15'
          - '125'
          - '40'
    primary_key:
      columns:
        - START_TIME
        - FUNCTION_NAME
        - MODEL_NAME
  - name: SNOWPARK_CONTAINER_SERVICES_HISTORY
    description: This Account Usage view displays the usage history for Snowpark Container Services, showing credits for container operations.
    base_table:
      database: SNOWFLAKE
      schema: ACCOUNT_USAGE
      table: SNOWPARK_CONTAINER_SERVICES_HISTORY
    dimensions:
      - name: COMPUTE_POOL_NAME
        synonyms:
          - Compute Pool
          - Pool Name
        description: Name of the compute pool used by the container service.
        expr: COMPUTE_POOL_NAME
        data_type: VARCHAR
        sample_values:
          - GPU_POOL
          - CPU_POOL
          - ML_POOL
          - BATCH_POOL
          - INFERENCE_POOL
      - name: DATABASE_NAME
        synonyms:
          - Database
          - Database Name
        description: Name of the database containing the container service.
        expr: DATABASE_NAME
        data_type: VARCHAR
        sample_values:
          - PROD_DB
          - ML_DB
          - CONTAINER_DB
          - ANALYTICS_DB
          - SERVICES_DB
      - name: SCHEMA_NAME
        synonyms:
          - Schema
          - Schema Name
        description: Name of the schema containing the container service.
        expr: SCHEMA_NAME
        data_type: VARCHAR
        sample_values:
          - PUBLIC
          - SERVICES
          - CONTAINERS
          - ML
          - PROCESSING
      - name: SERVICE_NAME
        synonyms:
          - Service
          - Container Service
          - Snowpark Service
        description: Name of the Snowpark Container Service.
        expr: SERVICE_NAME
        data_type: VARCHAR
        sample_values:
          - ML_TRAINING_SERVICE
          - DATA_PROCESSING_SERVICE
          - INFERENCE_SERVICE
          - ETL_CONTAINER_SERVICE
          - ANALYTICS_SERVICE
      - name: SERVICE_TYPE
        synonyms:
          - Service Type
          - Container Type
        description: Type of container service.
        expr: SERVICE_TYPE
        data_type: VARCHAR
        sample_values:
          - JOB
          - SERVICE
          - FUNCTION
          - PROCEDURE
          - TASK
    time_dimensions:
      - name: END_TIME
        synonyms:
          - End Time
          - Service End
        description: End time of the container service operation.
        expr: END_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 07:00:00.000000+00:00'
          - '2024-10-10 07:00:00.000000+00:00'
          - '2024-11-13 07:30:00.000000+00:00'
          - '2024-09-07 22:00:00.000000+00:00'
          - '2024-09-07 14:30:00.000000+00:00'
      - name: START_TIME
        synonyms:
          - Start Time
          - Service Start
        description: Start time of the container service operation.
        expr: START_TIME
        data_type: TIMESTAMP_LTZ
        sample_values:
          - '2024-08-31 06:00:00.000000+00:00'
          - '2024-10-10 05:00:00.000000+00:00'
          - '2024-11-13 07:00:00.000000+00:00'
          - '2024-09-07 18:00:00.000000+00:00'
          - '2024-09-07 13:00:00.000000+00:00'
    facts:
      - name: CREDITS_USED
        synonyms:
          - Credits Used
          - Container Credits
          - Compute Credits
        description: Number of credits consumed by the container service.
        expr: CREDITS_USED
        data_type: NUMBER
        sample_values:
          - 5.123456789
          - 12.987654321
          - 2.555555555
          - 25.111111111
          - 8.777777777
      - name: UPTIME_SECONDS
        synonyms:
          - Uptime
          - Runtime Seconds
          - Container Uptime
        description: Total uptime of the container service in seconds.
        expr: UPTIME_SECONDS
        data_type: NUMBER
        sample_values:
          - '3600'
          - '7200'
          - '1800'
          - '14400'
          - '5400'
    primary_key:
      columns:
        - START_TIME
        - SERVICE_NAME
relationships:
  - name: CORTEX_FUNCTIONS_QUERY__CORTEX_FUNCTIONS_USAGE
    left_table: CORTEX_FUNCTIONS_QUERY_USAGE_HISTORY
    relationship_columns:
      - left_column: FUNCTION_NAME
        right_column: FUNCTION_NAME
      - left_column: MODEL_NAME
        right_column: START_TIME
      - left_column: FUNCTION_NAME
        right_column: FUNCTION_NAME
      - left_column: MODEL_NAME
        right_column: MODEL_NAME
    right_table: CORTEX_FUNCTIONS_USAGE_HISTORY
  - name: CORTEX_SEARCH_SERVING__CORTEX_SEARCH_DAILY
    left_table: CORTEX_SEARCH_SERVING_USAGE_HISTORY
    relationship_columns:
      - left_column: SERVICE_NAME
        right_column: SERVICE_NAME
    right_table: CORTEX_SEARCH_DAILY_USAGE_HISTORY
verified_queries:
  - name: Cortex Analyst Usage Last 30 Days
    question: What is the Cortex Analyst usage and credit consumption in the last 30 days?
    verified_at: 20250115
    verified_by: Hyunchae Kim
    use_as_onboarding_question: true
    sql: SELECT START_TIME, END_TIME, USERNAME, CREDITS, REQUEST_COUNT FROM SNOWFLAKE.ACCOUNT_USAGE.CORTEX_ANALYST_USAGE_HISTORY WHERE START_TIME > DATEADD(day, -30, CURRENT_DATE()) ORDER BY START_TIME DESC;
  - name: Top 10 AI Function Usage by Credits
    question: Which AI functions consume the most credits?
    verified_at: 20250115
    verified_by: Hyunchae Kim
    use_as_onboarding_question: true
    sql: SELECT FUNCTION_NAME, MODEL_NAME, SUM(TOKEN_CREDITS) as TOTAL_CREDITS, SUM(TOKENS) as TOTAL_TOKENS FROM SNOWFLAKE.ACCOUNT_USAGE.CORTEX_FUNCTIONS_USAGE_HISTORY WHERE START_TIME > DATEADD(day, -7, CURRENT_DATE()) GROUP BY FUNCTION_NAME, MODEL_NAME ORDER BY TOTAL_CREDITS DESC LIMIT 10;
  - name: Document Processing Summary Last 7 Days
    question: What is the document processing activity summary for the last 7 days?
    verified_at: 20250115
    verified_by: Hyunchae Kim
    use_as_onboarding_question: true
    sql: SELECT FUNCTION_NAME, MODEL_NAME, SUM(CREDITS_USED) as TOTAL_CREDITS, SUM(DOCUMENT_COUNT) as TOTAL_DOCUMENTS, SUM(PAGE_COUNT) as TOTAL_PAGES FROM SNOWFLAKE.ACCOUNT_USAGE.CORTEX_DOCUMENT_PROCESSING_USAGE_HISTORY WHERE START_TIME > DATEADD(day, -7, CURRENT_DATE()) GROUP BY FUNCTION_NAME, MODEL_NAME ORDER BY TOTAL_CREDITS DESC;
  - name: Cortex Search Daily Usage Trends
    question: What are the daily usage trends for Cortex Search services?
    verified_at: 20250115
    verified_by: Hyunchae Kim
    use_as_onboarding_question: true
    sql: SELECT USAGE_DATE, SERVICE_NAME, CONSUMPTION_TYPE, SUM(CREDITS) as DAILY_CREDITS, SUM(TOKENS) as DAILY_TOKENS FROM SNOWFLAKE.ACCOUNT_USAGE.CORTEX_SEARCH_DAILY_USAGE_HISTORY WHERE USAGE_DATE > DATEADD(day, -14, CURRENT_DATE()) GROUP BY USAGE_DATE, SERVICE_NAME, CONSUMPTION_TYPE ORDER BY USAGE_DATE DESC, DAILY_CREDITS DESC;
module_custom_instructions:
  question_categorization: |
    - For AI model usage questions, focus on credit consumption, token usage, and model performance across Cortex functions
    - For cost optimization questions, analyze credit patterns and identify high-consumption AI operations
    - When users ask about document processing, prioritize document counts, page counts, and processing efficiency
    - When users ask about search performance, focus on search operations, indexing costs, and usage patterns
    - For container services questions, emphasize compute pool usage, uptime efficiency, and service types
  sql_generation: |
    - If no date filter is provided, apply a filter for the last 7 days for usage tables using START_TIME or USAGE_DATE
    - When users ask about AI cost analysis, aggregate credits by function, model, or service for clear cost attribution
    - When users ask about model performance, include both credit consumption and processing metrics (tokens, documents, pages)
    - When users ask about usage trends, use appropriate time grouping (daily, hourly) based on the time period requested
    - When users ask about top consumers, include user identification where available (USERNAME for Analyst usage)
    - For container services analysis, convert UPTIME_SECONDS to hours for better readability
    - Always include both credit and operational metrics (tokens, documents, etc.) to provide complete AI usage insights
    - Limit results to top 20 for ranking queries unless user specifies otherwise